<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>New Post â€¢ Relm</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="/style.css">
  </head>

  <body class="min-h-screen bg-zinc-900 text-white">
    <main class="max-w-3xl mx-auto px-6 py-10">
                <a href="/home" class="text-2xl font-semibold tracking-tight inline-block mb-4">
        <span class="text-blue-400">R</span>elm
      </a>
      <header class="flex items-center justify-between mb-8">
        <div>
          <h1 class="text-2xl font-semibold">Write a new post</h1>
          <p class="text-sm text-zinc-400 mt-1">Publishing will make the post public immediately.</p>
        </div>

        <a href="/profile" class="text-sm px-3 py-2 rounded-lg border border-zinc-700 hover:bg-zinc-800">
          Cancel
        </a>
      </header>

      <section class="bg-zinc-800/60 p-6 rounded-2xl shadow-sm">
        <form action="/posts" method="POST" class="space-y-4" autocomplete="off" novalidate>
          <div>
            <label for="title" class="block text-sm mb-1">Title</label>
            <input
              id="title"
              name="title"
              type="text"
              maxlength="120"
              required
              class="w-full px-3 py-2 rounded-lg bg-zinc-900/40 border border-zinc-700 placeholder-zinc-400 outline-none focus:ring-2 focus:ring-blue-500"
              placeholder="Write a clear title"
            />
            <div class="text-xs text-zinc-500 mt-1">Max 120 characters</div>
          </div>

          <div>
            <label for="content" class="block text-sm mb-1">Body</label>
            <textarea
              id="content"
              name="content"
              rows="12"
              required
              class="w-full px-3 py-3 rounded-lg bg-zinc-900/40 border border-zinc-700 placeholder-zinc-400 outline-none focus:ring-2 focus:ring-blue-500 resize-none overflow-y-scroll no-scrollbar"
              placeholder="Write the full post in Markdown or plain text"
            ></textarea>
            <div class="flex justify-between text-xs text-zinc-500 mt-1">
              <span id="wordCount">0 words</span>
              <span id="charCount">0 chars</span>
            </div>
          </div>

          <div class="flex gap-3 items-center">
            <button
              type="submit"
              class="px-5 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-sm font-medium hover:opacity-95"
            >
              Publish
            </button>

            <a href="/profile" class="px-4 py-2 rounded-lg border border-zinc-700 text-sm hover:bg-zinc-800">
              Back
            </a>

            <div class="text-xs text-zinc-500 ml-auto">All posts are public, there are no drafts.</div>
          </div>
        </form>
      </section>

      <script>
        (function () {
          const contentEl = document.getElementById('content');
          const wordCountEl = document.getElementById('wordCount');
          const charCountEl = document.getElementById('charCount');

          function updateCounts() {
            const text = contentEl.value.trim();
            const words = text ? text.split(/\s+/).length : 0;
            wordCountEl.textContent = words + ' words';
            charCountEl.textContent = text.length + ' chars';
          }

          contentEl.addEventListener('input', updateCounts);
          
          document.addEventListener('DOMContentLoaded', updateCounts);
        })();
      </script>
    </main>
  </body>
</html>
